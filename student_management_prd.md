# Student Management System PRD
## 수강생 관리 프로그램 제품 요구사항 명세서

### 1. 프로젝트 개요

**프로젝트명**: Student Management System  
**개발 환경**: Python 3.8+, PySide6  
**목적**: 수강생의 교육 일정을 효율적으로 관리하고 시각화하는 오프라인 데스크톱 애플리케이션  
**특징**: 백엔드 연결 없이 독립 실행, 로컬 암호화 데이터 저장

### 2. 기술 스택

- **언어**: Python 3.8+
- **GUI 프레임워크**: PySide6 (Qt6)
- **데이터 저장**: 암호화된 로컬 파일 (JSON/Pickle 기반)
- **암호화**: `cryptography` 라이브러리 (AES-256)
- **날짜 처리**: Python datetime 모듈
- **디자인**: 다크 테마 (모던 블랙 컬러 스키마)

### 3. 핵심 기능 명세

#### 3.1 수강생 등록 폼 (Input Form)

**3.1.1 입력 필드**
- **수강생 이름**: 텍스트 입력 필드
  - 필수 입력 항목
  - 한글, 영문 지원
  - 최대 30자 제한
  - 중복 이름 허용 (ID로 구분)

- **총 교육과정**: 드롭다운 콤보박스
  - 옵션: 1주차 ~ 10주차
  - 기본값: 1주차
  - 필수 선택 항목

- **수강 요일**: 다중 선택 드롭다운
  - 옵션: 월요일, 화요일, 수요일, 목요일, 금요일, 토요일, 일요일
  - 체크박스 형태로 복수 선택 가능
  - 최소 1개 이상 선택 필수
  - 선택된 요일은 시각적으로 구분 표시

**3.1.2 버튼**
- **등록**: 수강생 정보 저장 및 자동 일정 생성
- **초기화**: 입력 필드 모두 초기화
- **수정**: 기존 수강생 정보 수정 모드

**3.1.3 유효성 검사**
- 이름 공백 체크
- 특수문자 제한
- 요일 최소 1개 선택 확인

#### 3.2 달력 뷰 (Calendar Output)

**3.2.1 달력 디스플레이**
- 월별 달력 형태로 표시 (7x6 그리드)
- 현재 월 기준으로 시작
- 이전/다음 월 네비게이션 버튼
- 오늘 날짜 하이라이트 표시
- 각 날짜 셀에 수강생 일정 표시

**3.2.2 일정 표시 형식**
- **기본 형식**: `수강생명 X주차`
- **예시**: `홍길동 1주차`, `김영희 3주차`
- **다중 일정**: 하루에 여러 일정이 있을 경우 세로로 나열
- **색상 코딩**: 수강생별로 다른 색상 자동 배정
- **상태 표시**: 완료/미완료 상태 시각적 구분

**3.2.3 자동 일정 생성 로직**
- **시작일**: 등록 시점 기준 다음 해당 요일부터 시작
- **배치 규칙**: 
  - 선택된 요일에만 배치
  - 연속된 주차 순서로 배정
  - 요일이 여러 개인 경우 순환 배치
  - 예: 화/수 선택 시 → 화요일 1주차, 수요일 2주차, 화요일 3주차...
- **충돌 처리**: 같은 날짜에 여러 일정 있어도 모두 표시

**3.2.4 달력 네비게이션**
- **이전/다음 월 버튼**
- **월/년도 직접 선택 가능**
- **오늘로 이동 버튼**
- **키보드 단축키 지원** (방향키로 월 이동)

#### 3.3 드래그 앤 드롭 기능

**3.3.1 드래그 시작**
- **선택 대상**: 달력의 특정 수강생 일정
- **시각적 피드백**: 드래그 중인 아이템 반투명 표시
- **유효 드롭 영역**: 다른 날짜 셀 하이라이트

**3.3.2 드롭 처리**
- **유효성 검사**: 
  - 과거 날짜로 이동 방지
  - 같은 수강생의 일정만 이동 가능
  - 완료된 수업 이동 제한
- **이동 확인**: 이동 전 사용자 확인 다이얼로그

**3.3.3 자동 재배치 로직**
- **기본 원칙**: 이동된 일정 이후의 모든 일정을 자동 조정
- **요일 규칙 유지**: 원래 설정된 수강 요일 패턴 준수
- **예시 시나리오**:
  ```
  원본: 10/7(화) 3주차 → 10/8(수) 4주차 → 10/14(화) 5주차
  이동: 10/7(화) 3주차를 10/8(수)로 이동
  결과: 10/8(수) 3주차 → 10/14(화) 4주차 → 10/15(수) 5주차
  ```
- **충돌 해결**: 기존 일정과 겹치는 경우 자동으로 다음 가능한 날짜로 이동

**3.3.4 되돌리기 기능**
- **실행 취소**: 마지막 드래그 앤 드롭 작업 취소
- **변경 이력**: 최근 10개 작업까지 되돌리기 가능

### 4. 데이터 관리 및 암호화

#### 4.1 데이터 구조
```python
{
    "students": [
        {
            "id": "unique_id",
            "name": "홍길동",
            "total_weeks": 8,
            "weekdays": ["화", "수"],
            "created_at": "2025-09-25T10:30:00",
            "is_active": true,
            "color": "#FF5733"
        }
    ],
    "schedules": [
        {
            "id": "schedule_id",
            "student_id": "unique_id",
            "week_number": 1,
            "scheduled_date": "2025-09-30",
            "is_completed": false,
            "created_at": "2025-09-25T10:30:00",
            "updated_at": "2025-09-25T10:30:00"
        }
    ],
    "metadata": {
        "version": "1.0",
        "last_backup": "2025-09-25T10:30:00"
    }
}
```

#### 4.2 암호화 방식
- **알고리즘**: AES-256-CBC
- **키 파생**: PBKDF2 with SHA-256
- **솔트**: 무작위 32바이트
- **파일 확장자**: `.sms` (Student Management System)
- **암호화 파일 위치**: 
  - Windows: `%APPDATA%/StudentManagement/data.sms`
  - macOS/Linux: `~/.config/StudentManagement/data.sms`

#### 4.3 데이터 보안
- **비밀번호 설정**: 첫 실행 시 마스터 비밀번호 설정
- **자동 저장**: 데이터 변경 시 자동으로 암호화하여 저장
- **백업 기능**: 수동/자동 백업 지원
- **복구 기능**: 백업 파일로부터 데이터 복구

### 5. UI/UX 디자인 명세

#### 5.1 컬러 팔레트 (다크 테마)
- **Primary Background**: #1E1E1E (메인 배경)
- **Secondary Background**: #2D2D2D (패널 배경)
- **Card Background**: #333333 (카드/버튼 배경)
- **Accent Color**: #0078D4 (강조색, 버튼)
- **Success Color**: #107C10 (성공 상태)
- **Warning Color**: #FF8C00 (경고)
- **Error Color**: #D83B01 (오류)
- **Text Primary**: #FFFFFF (주요 텍스트)
- **Text Secondary**: #CCCCCC (보조 텍스트)
- **Border**: #404040 (경계선)
- **Hover**: #404040 (호버 상태)

#### 5.2 레이아웃
- **전체 구조**: 
  - 좌측: 입력 폼 패널 (고정 너비 320px)
  - 우측: 달력 뷰 (가변 너비)
  - 상단: 툴바 (40px)
- **최소 창 크기**: 1200x800px
- **권장 해상도**: 1920x1080px 이상
- **반응형**: 창 크기에 따른 동적 레이아웃 조정

#### 5.3 컴포넌트 스타일
- **버튼**: 
  - 둥근 모서리 (border-radius: 6px)
  - 호버 효과 (색상 변경, 그림자)
  - 클릭 애니메이션
- **입력 필드**:
  - 다크 배경 (#2D2D2D)
  - 포커스 시 테두리 강조
  - 플레이스홀더 텍스트
- **드롭다운**:
  - 커스텀 스타일 적용
  - 다중 선택 시 체크박스 표시
  - 검색 기능 (이름이 많은 경우)
- **달력**:
  - 그리드 레이아웃 (7x6)
  - 셀 호버 효과
  - 애니메이션 전환

#### 5.4 타이포그래피
- **폰트**: Segoe UI (Windows), San Francisco (macOS), Ubuntu (Linux)
- **크기**:
  - 제목: 18px, Bold
  - 본문: 14px, Regular
  - 캡션: 12px, Regular
- **라인 높이**: 1.5

### 6. 성능 및 기술적 요구사항

#### 6.1 성능 목표
- **앱 시작**: 2초 이내
- **데이터 로딩**: 1초 이내 (1000개 일정 기준)
- **달력 렌더링**: 300ms 이내
- **드래그 앤 드롭**: 실시간 반응 (16ms)
- **파일 암호화/복호화**: 500ms 이내

#### 6.2 메모리 사용량
- **최대 RAM 사용**: 200MB
- **데이터 캐싱**: 최근 3개월 데이터만 메모리 보관
- **가비지 컬렉션**: 자동 메모리 정리

#### 6.3 파일 시스템
- **최대 데이터**: 10,000개 일정, 1,000명 수강생
- **파일 크기**: 압축 후 최대 50MB
- **백업 보관**: 최근 10개 백업 파일 유지

### 7. 사용자 경험 (UX)

#### 7.1 워크플로우
1. **앱 시작** → 비밀번호 입력 (기존 데이터 있는 경우)
2. **수강생 등록** → 이름, 과정, 요일 입력 → 등록 버튼
3. **달력 확인** → 자동 생성된 일정 확인
4. **일정 조정** → 드래그 앤 드롭으로 날짜 변경
5. **저장** → 자동 암호화 저장

#### 7.2 사용성 개선
- **키보드 단축키**:
  - Ctrl+N: 새 수강생 등록
  - Ctrl+S: 수동 저장
  - Ctrl+Z: 실행 취소
  - 화살표: 달력 월 이동
- **툴팁**: 모든 버튼과 기능에 설명 툴팁
- **상태 표시**: 로딩, 저장 중 상태 표시
- **오류 처리**: 친화적인 오류 메시지

#### 7.3 접근성
- **키보드 네비게이션**: 모든 기능 키보드로 접근 가능
- **고대비 모드**: 시각 장애인을 위한 고대비 테마
- **텍스트 크기**: 시스템 설정에 따른 폰트 크기 조정

### 8. 개발 단계별 계획

#### Phase 1: 기본 프레임워크 (1주)
- PySide6 프로젝트 설정
- 다크 테마 적용
- 기본 레이아웃 구성
- 암호화 모듈 구현

#### Phase 2: 데이터 관리 (1주)
- 로컬 파일 저장/불러오기
- 암호화/복호화 기능
- 데이터 구조 설계
- 백업/복구 기능

#### Phase 3: 입력 폼 구현 (1주)
- 수강생 등록 폼 UI
- 다중 선택 드롭다운
- 유효성 검사
- 데이터 저장 연동

#### Phase 4: 달력 뷰 구현 (2주)
- 달력 컴포넌트 개발
- 일정 표시 기능
- 자동 일정 생성 로직
- 월별 네비게이션
- 색상 코딩 시스템

#### Phase 5: 드래그 앤 드롭 (2주)
- 드래그 앤 드롭 이벤트 처리
- 시각적 피드백
- 자동 재배치 로직
- 충돌 해결 알고리즘
- 실행 취소 기능

#### Phase 6: 테스트 및 최적화 (1주)
- 기능 테스트
- 성능 최적화
- 버그 수정
- UI/UX 개선
- 사용자 가이드 작성

### 9. 확장 기능 (향후 개발)

#### 9.1 추가 기능
- **수강생 정보 관리**: 연락처, 메모 등 상세 정보
- **출석 관리**: 출석/결석 체크
- **통계 대시보드**: 수강생 현황, 완료율 등
- **인쇄 기능**: 달력 인쇄
- **데이터 내보내기**: Excel, PDF 내보내기

#### 9.2 고급 기능
- **알림 시스템**: 수업 일정 알림
- **템플릿 관리**: 자주 사용하는 과정 템플릿
- **다국어 지원**: 영어, 일본어 등
- **클라우드 동기화**: 선택적 클라우드 백업

#### 9.3 성능 개선
- **데이터베이스 마이그레이션**: SQLite로 업그레이드
- **플러그인 시스템**: 확장 기능 모듈화
- **테마 시스템**: 사용자 정의 테마

### 10. 품질 보증

#### 10.1 테스트 계획
- **단위 테스트**: 핵심 로직 테스트
- **통합 테스트**: 컴포넌트 간 상호작용
- **사용자 테스트**: 실제 사용 시나리오
- **성능 테스트**: 대용량 데이터 처리

#### 10.2 보안 검증
- **암호화 강도**: AES-256 보안 검증
- **키 관리**: 안전한 키 저장 및 관리
- **데이터 무결성**: 파일 변조 감지

#### 10.3 배포 준비
- **실행 파일 빌드**: PyInstaller 사용
- **설치 프로그램**: NSIS 또는 Inno Setup
- **디지털 서명**: 코드 사인 인증서
- **사용자 매뉴얼**: 상세한 사용 가이드